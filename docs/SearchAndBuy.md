# Поиск и оплата

Главный функционал проекта - это поиск рейсов по заданным критериям с возможностью купить билет на подходящий рейс.

## Путь клиента

1. В форме на сайте пользователь задает необходимые ему параметры для поиска рейсов. Данные о пункте назначения берутся с помощью Destination REST.
![searchForm](./images/searchForm.png)
2. Выполняется запрос на Search API, который возвращает найденные рейсы. У каждого рейса отображается самое недорогое сиденье в своем классе, для этого делается запрос на FlightSeat REST в метод cheapest.
![searchResult.png](images%2FsearchResult.png)
3. Пользователь выбирает подходящее сиденье, отображается сумма заказа и кнопка для оплаты. Когда пользователь нажимает "продолжить", создается бронирование. Выполняется запрос на Booking REST.
![preBooking.png](images%2FpreBooking.png)
4. Если пользователь не зарегистрирован, либо при регистрации заполнил не все данные, то предлагается заполнить данные о пассажире, Passenger REST.
![passengerData.png](images%2FpassengerData.png)
5. Выполняется запрос на Payment REST. Пользователь попадает в платежный шлюз для оплаты бронирования через Paypal. Подробнее про оплату [тут](..%2Fairline-payments%2FREADME.md), однако текущий функционал очень сырой и точно будет меняться.
6. После успешной оплаты создается билет с повощью Ticket REST, пользователь получает его на email и видит в личном кабинете
